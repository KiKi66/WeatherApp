(()=>{const t=document.getElementById("searchBtn"),e=document.getElementById("search"),a=document.querySelector(".current"),c=document.querySelector(".forecast-temp");let o={current:{},forecast1:{},forecast2:{},forecast3:{},forecast4:{}};async function r(t){try{const e=await fetch(`https://api.weatherapi.com/v1/forecast.json?key=3b8334187ddd46c8b6a130355233112&q=${t}&days=5`,{mode:"cors"}),a=await e.json();console.log(a),o.current.city=a.location.name,o.current.condition=a.current.condition.text,o.current.temperature=a.current.feelslike_c,o.forecast1.high=a.forecast.forecastday[1].day.maxtemp_c,o.forecast1.low=a.forecast.forecastday[1].day.mintemp_c,o.forecast1.condition=a.forecast.forecastday[1].day.condition.icon.substring(2),o.forecast1.date=a.forecast.forecastday[1].date.substring(5),o.forecast2.high=a.forecast.forecastday[2].day.maxtemp_c,o.forecast2.low=a.forecast.forecastday[2].day.mintemp_c,o.forecast2.condition=a.forecast.forecastday[2].day.condition.icon.substring(2),o.forecast2.date=a.forecast.forecastday[2].date.substring(5),o.forecast3.high=a.forecast.forecastday[3].day.maxtemp_c,o.forecast3.low=a.forecast.forecastday[3].day.mintemp_c,o.forecast3.condition=a.forecast.forecastday[3].day.condition.icon.substring(2),o.forecast3.date=a.forecast.forecastday[3].date.substring(5),o.forecast4.high=a.forecast.forecastday[4].day.maxtemp_c,o.forecast4.low=a.forecast.forecastday[4].day.mintemp_c,o.forecast4.condition=a.forecast.forecastday[4].day.condition.icon.substring(2),o.forecast4.date=a.forecast.forecastday[4].date.substring(5)}catch(t){console.error("Error fetching weather data:",t)}}function n(t,e,c){a.innerHTML="";const o=document.createElement("div"),r=`\n    <h2 id="location">${t}</h2>\n        <h3 id="current-condition">${e}</h3>\n        <h1 id="current-temp">${c} <span id="temp-unit">°C</span></h1>\n    `;o.innerHTML=r,a.appendChild(o)}function s(t,e,a,o){const r=document.createElement("div"),n=`\n      <div class="day1 forecast">\n        <h4 id="date">${t}</h4>\n        <img src="http://${e}" alt="" />\n        <div class="temp">\n          <h4>H: ${a}°C</h4>\n          <h4>L: ${o}°C</h4>\n        </div>\n      </div>\n    `;r.innerHTML=n,c.appendChild(r)}t.addEventListener("click",(async()=>{let t=e.value;await r(t),n(o.current.city,o.current.condition,o.current.temperature),c.innerHTML="",s(o.forecast1.date,o.forecast1.condition,o.forecast1.high,o.forecast1.low),s(o.forecast2.date,o.forecast2.condition,o.forecast2.high,o.forecast2.low),s(o.forecast3.date,o.forecast3.condition,o.forecast3.high,o.forecast3.low),s(o.forecast4.date,o.forecast4.condition,o.forecast4.high,o.forecast4.low)})),e.addEventListener("keydown",(async t=>{if("Enter"===t.key){t.preventDefault();let a=e.value;await r(a),n(o.current.city,o.current.condition,o.current.temperature),c.innerHTML="",s(o.forecast1.date,o.forecast1.condition,o.forecast1.high,o.forecast1.low),s(o.forecast2.date,o.forecast2.condition,o.forecast2.high,o.forecast2.low),s(o.forecast3.date,o.forecast3.condition,o.forecast3.high,o.forecast3.low),s(o.forecast4.date,o.forecast4.condition,o.forecast4.high,o.forecast4.low)}}))})();